<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
    <title>Mayonnaise Popsicle</title>
    <link href='http://fonts.googleapis.com/css?family=Dancing+Script:400,700|Roboto:400,700,300' rel='stylesheet' type='text/css'>    <link rel="stylesheet" type="text/css" href="style.css" />
  </head>
  <body id="the-body">

    <div id="container">
      <header>
        <img id="mayo-pop" src="images/mayonnaise.png"/>
        <h1>Mayonnaise Popsicles</h1>
        <h2>Tips from the professionals...</h2>
      </header>

      <article>
        <p>Mayonnaise, often abbreviated as mayo, is a thick, creamy sauce often used as a condiment. It is a stable emulsion of oil, egg yolks and either vinegar or lemon juice,with many options for embellishment with other herbs and spices. Lecithin in the egg yolk is the emulsifier.</p>
        <h2>Steps for perfection:</h2>
        <ol>
          <li><span>1</span>Just spray unflavored cooking spray into a small paper cup.</li>
          <li><span>2</span>Plop in your favorite mayo brand.</li>
          <li><span>3</span>Add in 2 tablespoons of salt to each pop, and mix well.</li>
          <li class="optional"><span>4</span>optionally: fruit like cut up oranges, strawberries, pineapple.</li>
          <li><span>5</span>Throw that disaster in the freezer</li>
          <li><span>6</span>Wait 3 &mdash; 24 months*, and eat</li>
        </ol>

        <img src="http://moderndaymoms.com/wp-content/uploads/2012/09/yogurtpops1-620x413.jpeg" />
        <p class="clarification">* &mdash; Time is variable based on how long it will take you to forget about this mistake and instead, be delighted by the sight of popsicles in your freezer.</p>
      </article>

      <button id="add-jank">More Jank !</button>
      <p id="jank-level"></p>

      <div class="next">Read Next: Lauren Katz's adventure making bologna and nutella sandwiches with President Obama.</div>

    </div>

    <script type="text/javascript">
      // get rid of bad browsers

      if ( 'querySelector' in document && 'addEventListener' in window ) {
        var jankLevel = 0;
        var jankButton = document.querySelector('#add-jank');
        var jankLevelIndicator = document.querySelector('#jank-level');
        jankButton.addEventListener('click',function(){
          jankLevel++;
          jankLevelIndicator.innerHTML="Scroll to experience jank level " + jankLevel + (jankLevel > 4 ? " Whoa there!":'');
        });

        window.addEventListener('scroll',function(){
          if(jankLevel > 0){
            var pop = document.querySelector('#mayo-pop');
            pop.style.marginTop = (Math.random() * 10) + "px";
            pop.style.paddingLeft = (Math.random() * 10) + "px";

            var listItems = document.getElementsByTagName('li');
            for(var i = 0; i < listItems.length; i++){
              var left = parseInt(listItems[i].style.marginLeft, 10);
              if(!isNaN(left)){
                left += (Math.random() - 0.5) * 3;
              } else {
                left = (Math.random() - 1) * 25;
              }
              listItems[i].style.marginLeft = left + "px";
            }

            if(jankLevel > 2){
              var max = Math.ceil(Math.random()*(250 * jankLevel));
              for(var k = 0; k < max ; k++){
                console.log("this does taste good", k);
              }
            }

            if(jankLevel > 1){
              var container = document.querySelector('#the-body');
              var r,g,b;
              r = Math.ceil(Math.random()*255);
              g = Math.ceil(Math.random()*255);
              b = Math.ceil(Math.random()*255);
              rgba = "rgba("+r+","+g+","+b+",0.015)";
              container.style.background = rgba;
            }
          }
        });
      }

    </script>
  </body>
</html>